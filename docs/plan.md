# **Структура проекта**

**Цель:**
Создать сервис, который автоматически собирает объекты недвижимости из Avito, CIAN, DomKlik, сохраняет их в базу, обогащает координатами через Yandex Geocoder, а затем отображает на интерактивной карте Яндекс с фильтрами под требования банка.

**Стэк:**

* Frontend: HTML/CSS/JS + Yandex Maps JS API
* Backend: Django + Django REST Framework
* Парсеры: Python (requests, BS4, Selenium)
* База: Django ORM (PostgreSQL)
* Геокодирование: Yandex Geocoder API

---

# **Распределение задач по ролям**

---

# **Frontend 1 — UI/UX + Каркас сайта**

**Ответственность: визуальная часть, структура интерфейса, работа с картой**

### Основные задачи:

1. Создать каркас интерфейса (HTML/CSS)

   * Главная страница
   * Страница с картой
   * Боковая панель фильтров
   * Список объектов / карточки

2. Сформировать дизайн:

   * Простая, понятная UI-сетка
   * Цветовая схема
   * Стили кнопок и форм

3. Реализовать адаптивную верстку (необязательно)

4. Интегрировать Яндекс.Карты:

   * Инициализация карты
   * Добавление маркеров
   * Кластеризация
   * Кастомные иконки

5. Настроить подключение к backend API

   * запросы к `/objects`
   * загрузка данных по фильтрам

### Выход:

Готовый пользовательский интерфейс + рабочая карта, которая визуализирует данные.

---

# **Frontend 2 — Логика отображения + SPA функционал**

**Ответственность: динамика, обновление данных, интерактив**

### Основные задачи:

1. Реализовать фильтры (JS):

   * цена
   * площадь
   * тип объекта
   * район/адрес

2. Реализовать карточки объектов:

   * всплывающая карточка при клике на маркер
   * галерея фотографий (через URL)

3. Интеграционное тестирование:

   * проверка корректности работы API
   * проверка поведения карты под нагрузкой

### Выход:

Интерактивная логика SPA + удобный интерфейс для просмотра объектов.

---

# **Backend 1 — Архитектура + API + Базы**

**Ответственность: база данных, модели, API, фильтры**

### Основные задачи:

1. Инициализация Django проекта

2. Создание моделей:

   * `RealEstateObject`
   * `Photo`
   * `ParsingLogs`

3. Подключение Django ORM

4. Реализация REST API (DRF):

   * `GET /objects` — список объектов
   * Поддержка фильтров:
     `?price_min=&price_max=&area_min=&area_max=&type=&district=`
   * `GET /objects/<id>` — детальная информация

5. Django Admin:

   * просматривать объекты
   * проверять фото
   * смотреть логи парсинга

6. Оптимизация производительности:

   * индексы на `price`, `area`, `updated_at`, `source_id`

7. Документация API:

   * OpenAPI/Swagger

### Выход:

Надёжный backend API, через который фронтенд получает все данные.

---

# **Backend 2 — Парсинг + Геокодирование + Обновление базы**

**Ответственность: сбор данных, очистка, обогащение и загрузка в БД**

### Основные задачи:

1. Написать парсеры для площадок:

   * **Авито** — динамический контент (Selenium)/Swagger 3.0 (developers.avito)
   * **ЦИАН** — сложная структура HTML/API (необязательно)
   * **ДомКлик** — поиск API-вариантов (public-api.domclick.ru)

2. Нормализовать объекты:

   * Название
   * Цена
   * Площадь
   * Тип
   * Адрес
   * Ссылка на объявление
   * Фото

3. Определение координат через Yandex Geocoder:

   * запрос к API по адресу
   * обработка ошибок
   * кэширование во избежание лимитов

4. Запись в БД:

   * удаление старых объектов
   * обновление существующих (по source_id)
   * сохранение фотографий
   * запись в ParsingLogs

### Выход:

Актуальная база недвижимости — очищенная, нормализованная и с координатами.

---

# **Итоговая схема работы**

```
[Парсеры] 
      ↓  (данные)
[Yandex Geocoder] — добавляет координаты
      ↓
[Django Backend] — сохраняет в PostgreSQL
      ↓
     API → JSON
      ↓
[Frontend] → отображает на Яндекс.Картах
```
